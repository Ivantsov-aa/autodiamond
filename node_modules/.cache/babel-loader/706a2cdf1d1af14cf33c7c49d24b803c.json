{"ast":null,"code":"import { d as _inherits, e as _createSuper, a as _classCallCheck, _ as _createClass } from '../_rollupPluginBabelHelpers-b054ecd2.js';\nimport HTMLMaskElement from './html-mask-element.js';\nimport IMask from '../core/holder.js';\nimport './mask-element.js';\n\nvar HTMLContenteditableMaskElement = /*#__PURE__*/function (_HTMLMaskElement) {\n  _inherits(HTMLContenteditableMaskElement, _HTMLMaskElement);\n\n  var _super = _createSuper(HTMLContenteditableMaskElement);\n\n  function HTMLContenteditableMaskElement() {\n    _classCallCheck(this, HTMLContenteditableMaskElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(HTMLContenteditableMaskElement, [{\n    key: \"_unsafeSelectionStart\",\n    get:\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\n    function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      var anchorOffset = selection && selection.anchorOffset;\n      var focusOffset = selection && selection.focusOffset;\n\n      if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\n        return anchorOffset;\n      }\n\n      return focusOffset;\n    }\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      var anchorOffset = selection && selection.anchorOffset;\n      var focusOffset = selection && selection.focusOffset;\n\n      if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\n        return anchorOffset;\n      }\n\n      return focusOffset;\n    }\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelect\",\n    value: function _unsafeSelect(start, end) {\n      if (!this.rootElement.createRange) return;\n      var range = this.rootElement.createRange();\n      range.setStart(this.input.firstChild || this.input, start);\n      range.setEnd(this.input.lastChild || this.input, end);\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    }\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      // $FlowFixMe\n      return this.input.textContent;\n    },\n    set: function set(value) {\n      this.input.textContent = value;\n    }\n  }]);\n\n  return HTMLContenteditableMaskElement;\n}(HTMLMaskElement);\n\nIMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\nexport { HTMLContenteditableMaskElement as default };","map":{"version":3,"names":["d","_inherits","e","_createSuper","a","_classCallCheck","_","_createClass","HTMLMaskElement","IMask","HTMLContenteditableMaskElement","_HTMLMaskElement","_super","apply","arguments","key","get","root","rootElement","selection","getSelection","anchorOffset","focusOffset","value","_unsafeSelect","start","end","createRange","range","setStart","input","firstChild","setEnd","lastChild","removeAllRanges","addRange","textContent","set","default"],"sources":["C:/front/autodiamond/node_modules/imask/esm/controls/html-contenteditable-mask-element.js"],"sourcesContent":["import { d as _inherits, e as _createSuper, a as _classCallCheck, _ as _createClass } from '../_rollupPluginBabelHelpers-b054ecd2.js';\r\nimport HTMLMaskElement from './html-mask-element.js';\r\nimport IMask from '../core/holder.js';\r\nimport './mask-element.js';\r\n\r\nvar HTMLContenteditableMaskElement = /*#__PURE__*/function (_HTMLMaskElement) {\r\n  _inherits(HTMLContenteditableMaskElement, _HTMLMaskElement);\r\n\r\n  var _super = _createSuper(HTMLContenteditableMaskElement);\r\n\r\n  function HTMLContenteditableMaskElement() {\r\n    _classCallCheck(this, HTMLContenteditableMaskElement);\r\n\r\n    return _super.apply(this, arguments);\r\n  }\r\n\r\n  _createClass(HTMLContenteditableMaskElement, [{\r\n    key: \"_unsafeSelectionStart\",\r\n    get:\r\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\r\n    function get() {\r\n      var root = this.rootElement;\r\n      var selection = root.getSelection && root.getSelection();\r\n      var anchorOffset = selection && selection.anchorOffset;\r\n      var focusOffset = selection && selection.focusOffset;\r\n\r\n      if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\r\n        return anchorOffset;\r\n      }\r\n\r\n      return focusOffset;\r\n    }\r\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\r\n\r\n  }, {\r\n    key: \"_unsafeSelectionEnd\",\r\n    get: function get() {\r\n      var root = this.rootElement;\r\n      var selection = root.getSelection && root.getSelection();\r\n      var anchorOffset = selection && selection.anchorOffset;\r\n      var focusOffset = selection && selection.focusOffset;\r\n\r\n      if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\r\n        return anchorOffset;\r\n      }\r\n\r\n      return focusOffset;\r\n    }\r\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\r\n\r\n  }, {\r\n    key: \"_unsafeSelect\",\r\n    value: function _unsafeSelect(start, end) {\r\n      if (!this.rootElement.createRange) return;\r\n      var range = this.rootElement.createRange();\r\n      range.setStart(this.input.firstChild || this.input, start);\r\n      range.setEnd(this.input.lastChild || this.input, end);\r\n      var root = this.rootElement;\r\n      var selection = root.getSelection && root.getSelection();\r\n\r\n      if (selection) {\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n      }\r\n    }\r\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\r\n\r\n  }, {\r\n    key: \"value\",\r\n    get: function get() {\r\n      // $FlowFixMe\r\n      return this.input.textContent;\r\n    },\r\n    set: function set(value) {\r\n      this.input.textContent = value;\r\n    }\r\n  }]);\r\n\r\n  return HTMLContenteditableMaskElement;\r\n}(HTMLMaskElement);\r\nIMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\r\n\r\nexport { HTMLContenteditableMaskElement as default };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}