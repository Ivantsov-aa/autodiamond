{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alina\\\\front-end\\\\autodiamond\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Routes, Route, useNavigate, useLocation } from \"react-router-dom\";\nimport Wrapper from \"./wrapper\";\nimport AuthorizationContainer from \"./components/authorization/authorization-container\";\nimport RegistrationContainer from \"./components/authorization/registration-container\";\nimport PrivacyInfo from \"./components/personal/privacy-info\";\nimport Orders from \"./components/personal/orders\";\nimport TermsService from \"./components/personal/terms-service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = props => {\n  _s();\n\n  const [isLogged, changeLogged] = useState(null);\n  const [authUser, setAuthUser] = useState(null);\n  const [catalog, setCatalog] = useState([]);\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    loadCarsBrandToCatalog();\n  }, []);\n\n  const loadCarsBrandToCatalog = async () => {\n    const headers = {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    };\n    await fetch(`${url}/api/cars/brands`, {\n      method: 'GET',\n      headers\n    }).then(response => response.json()).then(result => {\n      let urlModels = new URL(url + '/api/cars/models');\n      let catalogToState = [];\n      result.brands.forEach(brand => {\n        fetch(urlModels + '?brand=' + brand, {\n          method: 'GET',\n          headers\n        }).then(response => response.json()).then(result => {\n          catalogToState.push({\n            logo: './images/brand-logo/geely-logo.svg',\n            name: brand,\n            models: result.models\n          });\n          setCatalog([...catalogToState]);\n        });\n      });\n    });\n  };\n\n  const handleLogIn = data => {\n    changeLogged(true);\n    setAuthUser(data);\n  };\n\n  const handleLogOut = () => {\n    changeLogged(false);\n    setAuthUser(null);\n    navigate('/');\n  };\n\n  const handleNewPersonalInfo = data => {\n    const addPersonalInfo = { ...authUser,\n      ...data\n    };\n    const localUsers = JSON.parse(localStorage.getItem('users'));\n    const changedLocalUsers = localUsers.map(user => {\n      if (user.login === addPersonalInfo.login) {\n        return addPersonalInfo;\n      } else {\n        return user;\n      }\n    });\n    localStorage.setItem('users', JSON.stringify(changedLocalUsers));\n    setAuthUser(addPersonalInfo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Wrapper, { ...props,\n          location: location,\n          isLogged: isLogged,\n          authUser: authUser,\n          catalog: catalog,\n          handleLogOut: handleLogOut\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login/*\",\n        element: /*#__PURE__*/_jsxDEV(AuthorizationContainer, {\n          handleLogIn: handleLogIn,\n          isLogged: isLogged,\n          authUser: authUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/registration/*\",\n        element: /*#__PURE__*/_jsxDEV(RegistrationContainer, {\n          navigate: navigate,\n          handleLogIn: handleLogIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), isLogged && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/personal-area/:user/info/*\",\n          element: /*#__PURE__*/_jsxDEV(PrivacyInfo, { ...props,\n            isLogged: isLogged,\n            authUser: authUser,\n            handleLogOut: handleLogOut,\n            handleNewPersonalInfo: handleNewPersonalInfo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/personal-area/:user/orders/*\",\n          element: /*#__PURE__*/_jsxDEV(Orders, { ...props,\n            isLogged: isLogged,\n            authUser: authUser,\n            handleLogOut: handleLogOut\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 66\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/personal-area/:user/terms/*\",\n          element: /*#__PURE__*/_jsxDEV(TermsService, { ...props,\n            isLogged: isLogged,\n            authUser: authUser,\n            handleLogOut: handleLogOut\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 65\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"snbNwPZ2cLFoOz+e34Z8+MfSHCQ=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Routes","Route","useNavigate","useLocation","Wrapper","AuthorizationContainer","RegistrationContainer","PrivacyInfo","Orders","TermsService","App","props","isLogged","changeLogged","authUser","setAuthUser","catalog","setCatalog","navigate","location","useEffect","loadCarsBrandToCatalog","headers","fetch","url","method","then","response","json","result","urlModels","URL","catalogToState","brands","forEach","brand","push","logo","name","models","handleLogIn","data","handleLogOut","handleNewPersonalInfo","addPersonalInfo","localUsers","JSON","parse","localStorage","getItem","changedLocalUsers","map","user","login","setItem","stringify"],"sources":["C:/Users/alina/front-end/autodiamond/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Routes, Route, useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nimport Wrapper from \"./wrapper\";\r\nimport AuthorizationContainer from \"./components/authorization/authorization-container\";\r\nimport RegistrationContainer from \"./components/authorization/registration-container\";\r\nimport PrivacyInfo from \"./components/personal/privacy-info\";\r\nimport Orders from \"./components/personal/orders\";\r\nimport TermsService from \"./components/personal/terms-service\";\r\n\r\nconst App = (props) => {\r\n  const [isLogged, changeLogged] = useState(null);\r\n  const [authUser, setAuthUser] = useState(null);\r\n  const [catalog, setCatalog] = useState([]);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n\r\n  useEffect(() => {\r\n    loadCarsBrandToCatalog();\r\n  }, [])\r\n\r\n  const loadCarsBrandToCatalog = async () => {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json',\r\n    };\r\n\r\n\r\n    await fetch(`${url}/api/cars/brands`, {\r\n      method: 'GET',\r\n      headers\r\n    })\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        let urlModels = new URL(url + '/api/cars/models');\r\n        let catalogToState = [];\r\n\r\n        result.brands.forEach(brand => {\r\n          fetch(urlModels + '?brand=' + brand, {\r\n            method: 'GET',\r\n            headers\r\n          })\r\n            .then(response => response.json())\r\n            .then(result => {\r\n              catalogToState.push({ logo: './images/brand-logo/geely-logo.svg', name: brand, models: result.models });\r\n              setCatalog([...catalogToState]);\r\n            })\r\n        });\r\n      })\r\n  }\r\n\r\n  const handleLogIn = (data) => {\r\n    changeLogged(true);\r\n    setAuthUser(data);\r\n  }\r\n\r\n  const handleLogOut = () => {\r\n    changeLogged(false);\r\n    setAuthUser(null);\r\n    navigate('/');\r\n  }\r\n\r\n  const handleNewPersonalInfo = (data) => {\r\n    const addPersonalInfo = { ...authUser, ...data };\r\n    const localUsers = JSON.parse(localStorage.getItem('users'));\r\n    const changedLocalUsers = localUsers.map(user => {\r\n      if (user.login === addPersonalInfo.login) {\r\n        return addPersonalInfo;\r\n      } else {\r\n        return user;\r\n      }\r\n    })\r\n\r\n    localStorage.setItem('users', JSON.stringify(changedLocalUsers));\r\n\r\n    setAuthUser(addPersonalInfo);\r\n  }\r\n\r\n  return (\r\n    <div className='wrapper'>\r\n      <Routes>\r\n        <Route path='*' element={<Wrapper\r\n          {...props}\r\n          location={location}\r\n          isLogged={isLogged}\r\n          authUser={authUser}\r\n          catalog={catalog}\r\n          handleLogOut={handleLogOut} />}\r\n        />\r\n        <Route path='/login/*' element={<AuthorizationContainer\r\n          handleLogIn={handleLogIn}\r\n          isLogged={isLogged}\r\n          authUser={authUser} />}\r\n        />\r\n        <Route path='/registration/*' element={<RegistrationContainer\r\n          navigate={navigate}\r\n          handleLogIn={handleLogIn} />}\r\n        />\r\n        {isLogged &&\r\n          <>\r\n            <Route path='/personal-area/:user/info/*' element={<PrivacyInfo\r\n              {...props}\r\n              isLogged={isLogged}\r\n              authUser={authUser}\r\n              handleLogOut={handleLogOut}\r\n              handleNewPersonalInfo={handleNewPersonalInfo} />}\r\n            />\r\n            <Route path='/personal-area/:user/orders/*' element={<Orders\r\n              {...props}\r\n              isLogged={isLogged}\r\n              authUser={authUser}\r\n              handleLogOut={handleLogOut} />}\r\n            />\r\n            <Route path='/personal-area/:user/terms/*' element={<TermsService\r\n              {...props}\r\n              isLogged={isLogged}\r\n              authUser={authUser}\r\n              handleLogOut={handleLogOut} />}\r\n            />\r\n          </>\r\n        }\r\n      </Routes>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}