{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alina\\\\front-end\\\\autodiamond\\\\src\\\\App.js\";\nimport React from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport Wrapper from \"./wrapper\";\nimport AuthorizationContainer from \"./components/authorization/authorization-container\";\nimport RegistrationContainer from \"./components/authorization/registration-container\";\nimport PrivacyInfo from \"./components/personal/privacy-info\";\nimport Orders from \"./components/personal/orders\";\nimport TermsService from \"./components/personal/terms-service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLogIn = data => {\n      this.setState({\n        isLogged: true,\n        authUser: data\n      });\n    };\n\n    this.handleLogOut = () => {\n      this.setState({\n        isLogged: false,\n        authUser: null\n      });\n\n      /*#__PURE__*/\n      _jsxDEV(Navigate, {\n        to: \"/\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 5\n      }, this);\n    };\n\n    this.handleNewPersonalInfo = data => {\n      const {\n        authUser\n      } = this.state;\n      const addPersonalInfo = { ...authUser,\n        ...data\n      };\n      const localUsers = JSON.parse(localStorage.getItem('users'));\n      const changedLocalUsers = localUsers.map(user => {\n        if (user.login === addPersonalInfo.login) {\n          return addPersonalInfo;\n        } else {\n          return user;\n        }\n      });\n      localStorage.setItem('users', JSON.stringify(changedLocalUsers));\n      this.setState({\n        authUser: addPersonalInfo\n      });\n    };\n\n    this.state = {\n      isLogged: null,\n      authUser: null\n    };\n  }\n\n  render() {\n    const {\n      isLogged,\n      authUser,\n      redirect\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Wrapper, { ...this.props,\n            isLogged: isLogged,\n            authUser: authUser,\n            handleLogOut: this.handleLogOut\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login/*\",\n          element: /*#__PURE__*/_jsxDEV(AuthorizationContainer, {\n            handleLogIn: this.handleLogIn,\n            isLogged: isLogged,\n            authUser: authUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/registration/*\",\n          element: /*#__PURE__*/_jsxDEV(RegistrationContainer, {\n            handleLogIn: this.handleLogIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), isLogged && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/personal-area/:user/info/*\",\n            element: /*#__PURE__*/_jsxDEV(PrivacyInfo, { ...this.props,\n              isLogged: isLogged,\n              authUser: authUser,\n              handleLogOut: this.handleLogOut,\n              handleNewPersonalInfo: this.handleNewPersonalInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 66\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/personal-area/:user/orders/*\",\n            element: /*#__PURE__*/_jsxDEV(Orders, { ...this.props,\n              isLogged: isLogged,\n              authUser: authUser,\n              handleLogOut: this.handleLogOut\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 68\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/personal-area/:user/terms/*\",\n            element: /*#__PURE__*/_jsxDEV(TermsService, { ...this.props,\n              isLogged: isLogged,\n              authUser: authUser,\n              handleLogOut: this.handleLogOut\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 67\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","Wrapper","AuthorizationContainer","RegistrationContainer","PrivacyInfo","Orders","TermsService","App","Component","constructor","props","handleLogIn","data","setState","isLogged","authUser","handleLogOut","handleNewPersonalInfo","state","addPersonalInfo","localUsers","JSON","parse","localStorage","getItem","changedLocalUsers","map","user","login","setItem","stringify","render","redirect"],"sources":["C:/Users/alina/front-end/autodiamond/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\n\r\nimport Wrapper from \"./wrapper\";\r\nimport AuthorizationContainer from \"./components/authorization/authorization-container\";\r\nimport RegistrationContainer from \"./components/authorization/registration-container\";\r\nimport PrivacyInfo from \"./components/personal/privacy-info\";\r\nimport Orders from \"./components/personal/orders\";\r\nimport TermsService from \"./components/personal/terms-service\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLogged: null,\r\n      authUser: null\r\n    }\r\n  }\r\n\r\n  handleLogIn = (data) => {\r\n    this.setState({ isLogged: true, authUser: data });\r\n  }\r\n\r\n  handleLogOut = () => {\r\n    this.setState({ isLogged: false, authUser: null });\r\n    <Navigate to='/' replace />\r\n  }\r\n\r\n  handleNewPersonalInfo = (data) => {\r\n    const { authUser } = this.state;\r\n    const addPersonalInfo = { ...authUser, ...data };\r\n    const localUsers = JSON.parse(localStorage.getItem('users'));\r\n    const changedLocalUsers = localUsers.map(user => {\r\n      if (user.login === addPersonalInfo.login) {\r\n        return addPersonalInfo;\r\n      } else {\r\n        return user;\r\n      }\r\n    })\r\n\r\n    localStorage.setItem('users', JSON.stringify(changedLocalUsers));\r\n\r\n    this.setState({ authUser: addPersonalInfo });\r\n  }\r\n\r\n  render() {\r\n    const { isLogged, authUser, redirect } = this.state;\r\n\r\n    return (\r\n      <div className='wrapper'>\r\n        <Routes>\r\n          <Route path='*' element={<Wrapper\r\n            {...this.props}\r\n            isLogged={isLogged}\r\n            authUser={authUser}\r\n            handleLogOut={this.handleLogOut} />}\r\n          />\r\n          <Route path='/login/*' element={<AuthorizationContainer\r\n            handleLogIn={this.handleLogIn}\r\n            isLogged={isLogged}\r\n            authUser={authUser} />}\r\n          />\r\n          <Route path='/registration/*' element={<RegistrationContainer\r\n            handleLogIn={this.handleLogIn} />}\r\n          />\r\n          {isLogged &&\r\n            <>\r\n              <Route path='/personal-area/:user/info/*' element={<PrivacyInfo\r\n                {...this.props}\r\n                isLogged={isLogged}\r\n                authUser={authUser}\r\n                handleLogOut={this.handleLogOut}\r\n                handleNewPersonalInfo={this.handleNewPersonalInfo} />}\r\n              />\r\n              <Route path='/personal-area/:user/orders/*' element={<Orders\r\n                {...this.props}\r\n                isLogged={isLogged}\r\n                authUser={authUser}\r\n                handleLogOut={this.handleLogOut} />}\r\n              />\r\n              <Route path='/personal-area/:user/terms/*' element={<TermsService\r\n                {...this.props}\r\n                isLogged={isLogged}\r\n                authUser={authUser}\r\n                handleLogOut={this.handleLogOut} />}\r\n              />\r\n            </>\r\n          }\r\n        </Routes>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AAEA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,sBAAP,MAAmC,oDAAnC;AACA,OAAOC,qBAAP,MAAkC,mDAAlC;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;;;;AAEA,MAAMC,GAAN,SAAkBV,KAAK,CAACW,SAAxB,CAAkC;EAChCC,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;;IADiB,KAQnBC,WARmB,GAQJC,IAAD,IAAU;MACtB,KAAKC,QAAL,CAAc;QAAEC,QAAQ,EAAE,IAAZ;QAAkBC,QAAQ,EAAEH;MAA5B,CAAd;IACD,CAVkB;;IAAA,KAYnBI,YAZmB,GAYJ,MAAM;MACnB,KAAKH,QAAL,CAAc;QAAEC,QAAQ,EAAE,KAAZ;QAAmBC,QAAQ,EAAE;MAA7B,CAAd;;MACA;MAAA,QAAC,QAAD;QAAU,EAAE,EAAC,GAAb;QAAiB,OAAO;MAAxB;QAAA;QAAA;QAAA;MAAA;IACD,CAfkB;;IAAA,KAiBnBE,qBAjBmB,GAiBML,IAAD,IAAU;MAChC,MAAM;QAAEG;MAAF,IAAe,KAAKG,KAA1B;MACA,MAAMC,eAAe,GAAG,EAAE,GAAGJ,QAAL;QAAe,GAAGH;MAAlB,CAAxB;MACA,MAAMQ,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAnB;MACA,MAAMC,iBAAiB,GAAGL,UAAU,CAACM,GAAX,CAAeC,IAAI,IAAI;QAC/C,IAAIA,IAAI,CAACC,KAAL,KAAeT,eAAe,CAACS,KAAnC,EAA0C;UACxC,OAAOT,eAAP;QACD,CAFD,MAEO;UACL,OAAOQ,IAAP;QACD;MACF,CANyB,CAA1B;MAQAJ,YAAY,CAACM,OAAb,CAAqB,OAArB,EAA8BR,IAAI,CAACS,SAAL,CAAeL,iBAAf,CAA9B;MAEA,KAAKZ,QAAL,CAAc;QAAEE,QAAQ,EAAEI;MAAZ,CAAd;IACD,CAhCkB;;IAEjB,KAAKD,KAAL,GAAa;MACXJ,QAAQ,EAAE,IADC;MAEXC,QAAQ,EAAE;IAFC,CAAb;EAID;;EA4BDgB,MAAM,GAAG;IACP,MAAM;MAAEjB,QAAF;MAAYC,QAAZ;MAAsBiB;IAAtB,IAAmC,KAAKd,KAA9C;IAEA,oBACE;MAAK,SAAS,EAAC,SAAf;MAAA,uBACE,QAAC,MAAD;QAAA,wBACE,QAAC,KAAD;UAAO,IAAI,EAAC,GAAZ;UAAgB,OAAO,eAAE,QAAC,OAAD,OACnB,KAAKR,KADc;YAEvB,QAAQ,EAAEI,QAFa;YAGvB,QAAQ,EAAEC,QAHa;YAIvB,YAAY,EAAE,KAAKC;UAJI;YAAA;YAAA;YAAA;UAAA;QAAzB;UAAA;UAAA;UAAA;QAAA,QADF,eAOE,QAAC,KAAD;UAAO,IAAI,EAAC,UAAZ;UAAuB,OAAO,eAAE,QAAC,sBAAD;YAC9B,WAAW,EAAE,KAAKL,WADY;YAE9B,QAAQ,EAAEG,QAFoB;YAG9B,QAAQ,EAAEC;UAHoB;YAAA;YAAA;YAAA;UAAA;QAAhC;UAAA;UAAA;UAAA;QAAA,QAPF,eAYE,QAAC,KAAD;UAAO,IAAI,EAAC,iBAAZ;UAA8B,OAAO,eAAE,QAAC,qBAAD;YACrC,WAAW,EAAE,KAAKJ;UADmB;YAAA;YAAA;YAAA;UAAA;QAAvC;UAAA;UAAA;UAAA;QAAA,QAZF,EAeGG,QAAQ,iBACP;UAAA,wBACE,QAAC,KAAD;YAAO,IAAI,EAAC,6BAAZ;YAA0C,OAAO,eAAE,QAAC,WAAD,OAC7C,KAAKJ,KADwC;cAEjD,QAAQ,EAAEI,QAFuC;cAGjD,QAAQ,EAAEC,QAHuC;cAIjD,YAAY,EAAE,KAAKC,YAJ8B;cAKjD,qBAAqB,EAAE,KAAKC;YALqB;cAAA;cAAA;cAAA;YAAA;UAAnD;YAAA;YAAA;YAAA;UAAA,QADF,eAQE,QAAC,KAAD;YAAO,IAAI,EAAC,+BAAZ;YAA4C,OAAO,eAAE,QAAC,MAAD,OAC/C,KAAKP,KAD0C;cAEnD,QAAQ,EAAEI,QAFyC;cAGnD,QAAQ,EAAEC,QAHyC;cAInD,YAAY,EAAE,KAAKC;YAJgC;cAAA;cAAA;cAAA;YAAA;UAArD;YAAA;YAAA;YAAA;UAAA,QARF,eAcE,QAAC,KAAD;YAAO,IAAI,EAAC,8BAAZ;YAA2C,OAAO,eAAE,QAAC,YAAD,OAC9C,KAAKN,KADyC;cAElD,QAAQ,EAAEI,QAFwC;cAGlD,QAAQ,EAAEC,QAHwC;cAIlD,YAAY,EAAE,KAAKC;YAJ+B;cAAA;cAAA;cAAA;YAAA;UAApD;YAAA;YAAA;YAAA;UAAA,QAdF;QAAA,gBAhBJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EA2CD;;AAjF+B;;AAoFlC,eAAeT,GAAf"},"metadata":{},"sourceType":"module"}